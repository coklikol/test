<!DOCTYPE html>
<html>
<body style="font-family:monospace; padding:20px; background:#000; color:lime;">
<h2>üîç Telegram API –¢–ï–°–¢–ï–†</h2>

<input id="method" value="getUpdates" style="width:200px; padding:10px;">
<button onclick="testAPI()">üöÄ –¢–ï–°–¢ API</button>
<button onclick="testSend()">üì§ –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞</button>
<button onclick="clearLog()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>

<pre id="log" style="background:#111; padding:20px; height:500px; overflow:auto; margin-top:20px; white-space:pre-wrap;">–û–∂–∏–¥–∞–Ω–∏–µ...</pre>

<script>
const TOKEN = '6639181665:AAF98IaosMehuMvoKy3vqw5KbudGw96R9jk';
const API = `https://api.telegram.org/bot${TOKEN}`;

async function testAPI() {
    const method = document.getElementById('method').value;
    log(`\nüîç –ó–∞–ø—Ä–æ—Å: ${API}/${method}`);
    
    try {
        const res = await fetch(`${API}/${method}`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({offset: 0, limit: 5})
        });
        
        const data = await res.json();
        log(`üì° –†–ï–ê–õ–¨–ù–´–ô –û–¢–í–ï–¢:\n${JSON.stringify(data, null, 2)}`);
        
        if (data.ok && data.result?.length) {
            log(`‚úÖ –ü–†–ò–®–õ–ò ${data.result.length} —Å–æ–æ–±—â–µ–Ω–∏–π!`);
        } else {
            log(`‚ùå –ü–£–°–¢–û –∏–ª–∏ –û–®–ò–ë–ö–ê: ${data.description}`);
        }
    } catch(e) {
        log(`üí• –û–®–ò–ë–ö–ê: ${e.message}`);
    }
}

async function testSend() {
    log('\nüì§ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...');
    const res = await fetch(`${API}/sendMessage`, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
            chat_id: 5407825036,
            text: `üß™ –¢–ï–°–¢ ${Date.now()}`
        })
    });
    log(`üì§ –û–¢–í–ï–¢: ${await res.json()}`);
}

function log(text) {
    document.getElementById('log').textContent += `${new Date().toLocaleTimeString()}: ${text}\n`;
    document.getElementById('log').scrollTop = 99999;
}

function clearLog() {
    document.getElementById('log').textContent = '';
}

// –ê–í–¢–û–¢–ï–°–¢
testAPI();
setTimeout(testSend, 1000);
</script>
</body>
</html>
